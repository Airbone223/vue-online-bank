{"remainingRequest":"C:\\Local Disk\\projects\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue","mtime":1619283081698},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge3JlZiwgb25Nb3VudGVkLCBjb21wdXRlZH0gZnJvbSAndnVlJw0KaW1wb3J0IHt1c2VTdG9yZX0gZnJvbSAndnVleCcNCmltcG9ydCB7dXNlUm91dGUsIHVzZVJvdXRlcn0gZnJvbSAndnVlLXJvdXRlcicNCmltcG9ydCBBcHBQYWdlIGZyb20gJ0AvY29tcG9uZW50cy91aS9BcHBQYWdlJw0KaW1wb3J0IEFwcExvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvdWkvQXBwTG9hZGVyJw0KaW1wb3J0IEFwcFN0YXR1cyBmcm9tICdAL2NvbXBvbmVudHMvdWkvQXBwU3RhdHVzJw0KaW1wb3J0IHtjdXJyZW5jeX0gZnJvbSAnQC91dGlscy9jdXJyZW5jeS1mb3JtYXRvcicNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBzZXR1cCgpIHsNCiAgICBjb25zdCBsb2FkaW5nID0gcmVmKHRydWUpDQogICAgY29uc3QgcmVxdWVzdCA9IHJlZih7fSkNCiAgICBjb25zdCBzdGF0dXMgPSByZWYoKQ0KICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBjb21wdXRlZCgoKSA9PiByZXF1ZXN0LnZhbHVlLnN0YXR1cyAhPT0gc3RhdHVzLnZhbHVlKQ0KICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKQ0KICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpDQogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpDQogICAgb25Nb3VudGVkKGFzeW5jICgpID0+IHsNCiAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlDQogICAgICByZXF1ZXN0LnZhbHVlID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ3JlcXVlc3QvbG9hZEJ5SWQnLCByb3V0ZS5wYXJhbXMuaWQpDQogICAgICBzdGF0dXMudmFsdWUgPSByZXF1ZXN0LnZhbHVlPy5zdGF0dXMNCiAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZQ0KICAgIH0pDQogICAgY29uc3QgcmVtb3ZlID0gYXN5bmMgKCkgPT4gew0KICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ3JlcXVlc3QvcmVtb3ZlJywgcm91dGUucGFyYW1zLmlkKQ0KICAgICAgcm91dGVyLnB1c2goJy8nKQ0KICAgIH0NCiAgICBjb25zdCB1cGRhdGUgPSAgYXN5bmMgKCkgPT4gew0KICAgICAgY29uc3QgZGF0YSA9IHsuLi5yZXF1ZXN0LnZhbHVlLCBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgaWQ6IHJvdXRlLnBhcmFtcy5pZH0NCiAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKCdyZXF1ZXN0L3VwZGF0ZScsIGRhdGEpDQogICAgfQ0KICAgIHJldHVybiB7bG9hZGluZywgcmVxdWVzdCwgY3VycmVuY3ksIHJlbW92ZSwgdXBkYXRlLCBzdGF0dXMsIGhhc0NoYW5nZWR9DQogIH0sDQogIGNvbXBvbmVudHM6IHtBcHBQYWdlLCBBcHBMb2FkZXIsIEFwcFN0YXR1c30NCn0NCg=="},{"version":3,"sources":["C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue"],"names":[],"mappings":";AA4BA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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","file":"C:/Local Disk/projects/vue/src/views/Request.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"/>\r\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n    <p><strong>Ф.И.О.</strong>: {{ request.fio }}</p>\r\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\r\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\r\n    <p><strong>Статус</strong>:\r\n      <app-status :type=\"request.status\"/>\r\n    </p>\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Изменить статус</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanged\">Обновить</button>\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{ $route.params.id }} нет.\r\n  </h3>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport AppPage from '@/components/ui/AppPage'\r\nimport AppLoader from '@/components/ui/AppLoader'\r\nimport AppStatus from '@/components/ui/AppStatus'\r\nimport {currency} from '@/utils/currency-formator'\r\n\r\nexport default {\r\n  setup() {\r\n    const loading = ref(true)\r\n    const request = ref({})\r\n    const status = ref()\r\n    const hasChanged = computed(() => request.value.status !== status.value)\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    onMounted(async () => {\r\n      loading.value = true\r\n      request.value = await store.dispatch('request/loadById', route.params.id)\r\n      status.value = request.value?.status\r\n      loading.value = false\r\n    })\r\n    const remove = async () => {\r\n      await store.dispatch('request/remove', route.params.id)\r\n      router.push('/')\r\n    }\r\n    const update =  async () => {\r\n      const data = {...request.value, status: status.value, id: route.params.id}\r\n      await store.dispatch('request/update', data)\r\n    }\r\n    return {loading, request, currency, remove, update, status, hasChanged}\r\n  },\r\n  components: {AppPage, AppLoader, AppStatus}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}