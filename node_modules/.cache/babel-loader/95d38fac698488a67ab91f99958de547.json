{"remainingRequest":"C:\\Local Disk\\projects\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Local Disk\\projects\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Local Disk\\projects\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue","mtime":1619282364860},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Local Disk\\projects\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovTG9jYWwgRGlzay9wcm9qZWN0cy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgQXBwUGFnZSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQXBwUGFnZSc7CmltcG9ydCBBcHBMb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL3VpL0FwcExvYWRlcic7CmltcG9ydCBBcHBTdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL3VpL0FwcFN0YXR1cyc7CmltcG9ydCB7IGN1cnJlbmN5IH0gZnJvbSAnQC91dGlscy9jdXJyZW5jeS1mb3JtYXRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgbG9hZGluZyA9IHJlZih0cnVlKTsKICAgIHZhciByZXF1ZXN0ID0gcmVmKHt9KTsKICAgIHZhciBzdGF0dXMgPSByZWYoKTsKICAgIHZhciBoYXNDaGFuZ2VkID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmVxdWVzdC52YWx1ZS5zdGF0dXMgIT09IHN0YXR1cy52YWx1ZTsKICAgIH0pOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfcmVxdWVzdCR2YWx1ZTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3JlcXVlc3QvbG9hZEJ5SWQnLCByb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlcXVlc3QudmFsdWUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHN0YXR1cy52YWx1ZSA9IChfcmVxdWVzdCR2YWx1ZSA9IHJlcXVlc3QudmFsdWUpID09PSBudWxsIHx8IF9yZXF1ZXN0JHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVxdWVzdCR2YWx1ZS5zdGF0dXM7CiAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CgogICAgdmFyIHJlbW92ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgncmVxdWVzdC9yZW1vdmUnLCByb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9OwoKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsCiAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSwKICAgICAgcmVtb3ZlOiByZW1vdmUsCiAgICAgIHVwZGF0ZTogdXBkYXRlLAogICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgaGFzQ2hhbmdlZDogaGFzQ2hhbmdlZAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFwcFBhZ2U6IEFwcFBhZ2UsCiAgICBBcHBMb2FkZXI6IEFwcExvYWRlciwKICAgIEFwcFN0YXR1czogQXBwU3RhdHVzCiAgfQp9Ow=="},{"version":3,"sources":["C:\\Local Disk\\projects\\vue\\src\\views\\Request.vue"],"names":[],"mappings":";;AA0BA,SAAQ,GAAR,EAAa,SAAb,EAAwB,QAAxB,QAAuC,KAAvC;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,QAAR,QAAuB,YAAvB;AACA,OAAO,OAAP,MAAoB,yBAApB;AACA,OAAO,SAAP,MAAsB,2BAAtB;AACA,OAAO,SAAP,MAAsB,2BAAtB;AACA,SAAQ,QAAR,QAAuB,2BAAvB;AAEA,eAAe;AACb,EAAA,KADa,mBACL;AACN,QAAM,OAAM,GAAI,GAAG,CAAC,IAAD,CAAnB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;AACA,QAAM,MAAK,GAAI,GAAG,EAAlB;AACA,QAAM,UAAS,GAAI,QAAQ,CAAC;AAAA,aAAM,OAAO,CAAC,KAAR,CAAc,MAAd,KAAyB,MAAM,CAAC,KAAtC;AAAA,KAAD,CAA3B;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,IAAA,SAAS,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACR,cAAA,OAAO,CAAC,KAAR,GAAgB,IAAhB;AADQ;AAAA,qBAEc,KAAK,CAAC,QAAN,CAAe,kBAAf,EAAmC,KAAK,CAAC,MAAN,CAAa,EAAhD,CAFd;;AAAA;AAER,cAAA,OAAO,CAAC,KAFA;AAGR,cAAA,MAAM,CAAC,KAAP,qBAAe,OAAO,CAAC,KAAvB,mDAAe,eAAe,MAA9B;AACA,cAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;;AAMA,QAAM,MAAK;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACb,KAAK,CAAC,QAAN,CAAe,gBAAf,EAAiC,KAAK,CAAC,MAAN,CAAa,EAA9C,CADa;;AAAA;AAEb,gBAAA,MAAM,CAAC,IAAP,CAAY,EAAZ;;AAFa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAIA,QAAM,MAAK,GAAI,SAAT,MAAS,GAAM,CAErB,CAFA;;AAGA,WAAO;AAAC,MAAA,OAAO,EAAP,OAAD;AAAU,MAAA,OAAO,EAAP,OAAV;AAAmB,MAAA,QAAQ,EAAR,QAAnB;AAA6B,MAAA,MAAM,EAAN,MAA7B;AAAqC,MAAA,MAAM,EAAN,MAArC;AAA6C,MAAA,MAAM,EAAN,MAA7C;AAAqD,MAAA,UAAU,EAAV;AAArD,KAAP;AACD,GAtBY;AAuBb,EAAA,UAAU,EAAE;AAAC,IAAA,OAAO,EAAP,OAAD;AAAU,IAAA,SAAS,EAAT,SAAV;AAAqB,IAAA,SAAS,EAAT;AAArB;AAvBC,CAAf","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"/>\r\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n    <p><strong>Ф.И.О.</strong>: {{request.fio}}</p>\r\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\r\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\r\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\"/></p>\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Изменить статус</label>\r\n    <select id=\"status\" v-model=\"status\">\r\n      <option value=\"done\">Завершен</option>\r\n      <option value=\"cancelled\">Отменен</option>\r\n      <option value=\"active\">Активен</option>\r\n      <option value=\"pending\">Выполняется</option>\r\n    </select>\r\n    </div>\r\n    <button class=\"btn\" @click=\"remove\" v-if=\"hasChanged\">Обновить</button>\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{ $route.params.id }} нет.\r\n  </h3>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {useRoute} from 'vue-router'\r\nimport AppPage from '@/components/ui/AppPage'\r\nimport AppLoader from '@/components/ui/AppLoader'\r\nimport AppStatus from '@/components/ui/AppStatus'\r\nimport {currency} from '@/utils/currency-formator'\r\n\r\nexport default {\r\n  setup() {\r\n    const loading = ref(true)\r\n    const request = ref({})\r\n    const status = ref()\r\n    const hasChanged = computed(() => request.value.status !== status.value)\r\n    const route = useRoute()\r\n    const store = useStore()\r\n    onMounted(async () => {\r\n      loading.value = true\r\n      request.value = await store.dispatch('request/loadById', route.params.id)\r\n      status.value = request.value?.status\r\n      loading.value = false\r\n    })\r\n    const remove = async () => {\r\nawait store.dispatch('request/remove', route.params.id)\r\n      router.push('')\r\n    }\r\n    const update = () => {\r\n\r\n    }\r\n    return {loading, request, currency, remove, update, status, hasChanged}\r\n  },\r\n  components: {AppPage, AppLoader, AppStatus}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}